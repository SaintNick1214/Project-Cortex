
> @cortexmemory/sdk@0.7.1 test
> node scripts/test-runner.mjs

[dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöÉ encrypt with Dotenvx: https://dotenvx.com
[dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒ¢á∩╕Å  run anywhere with `dotenvx run -- yourcommand`

≡ƒöì Detecting available Convex configurations...
   Local config: Γ£à Found
   Managed config: Γ£à Found
   Test mode: auto

≡ƒÄ» Both configurations detected - running DUAL TEST SUITE
   Tests will run against both local AND managed environments


============================================================
≡ƒÜÇ Running LOCAL tests...
============================================================

(node:12744) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS tests/memory.test.ts (12.608 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ΓÜÖ∩╕Å  write to custom object with { processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 10 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 42 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
        Γ£ô Query: "what should I address the user as" ΓåÆ Top result: "The user's name is Alexander Johnson, but they prefer to be ..." (score: 0.432)

      at Object.<anonymous> (tests/memory.test.ts:1192:19)

    console.log
        Γ£ô Query: "how do I contact them electronically" ΓåÆ Top result: "The user provided their email address, alex.johnson@techcorp..." (score: 0.357)

      at Object.<anonymous> (tests/memory.test.ts:1192:19)

    console.log
        Γ£ô Query: "production system credentials" ΓåÆ Top result: "The user shared the production API password "SecurePass2024"..." (score: 0.381)

      at Object.<anonymous> (tests/memory.test.ts:1192:19)

    console.log
        Γ£ô Query: "when is the deployment due" ΓåÆ Top result: "Noted - deployment deadline is Friday at 5pm EST..." (score: 0.648)

      at Object.<anonymous> (tests/memory.test.ts:1192:19)

    console.log
        Γ£ô Query: "UI appearance settings" ΓåÆ Top result: "The user prefers a dark mode theme and minimal notifications..." (score: 0.398)

      at Object.<anonymous> (tests/memory.test.ts:1192:19)

    console.log
        Γ£ô Enriched: Vector="The user shared the production API passw..."

      at Object.<anonymous> (tests/memory.test.ts:1224:21)

    console.log
        Γ£ô ACID source="The API password for production is Secur..."

      at Object.<anonymous> (tests/memory.test.ts:1227:21)

    console.log
        Γ£ô Original: "My name is Alexander Johnson and I prefer to be called Alex"

      at Object.<anonymous> (tests/memory.test.ts:1262:17)

    console.log
        Γ£ô Summarized: "The user's name is Alexander Johnson, but they prefer to be called Alex."

      at Object.<anonymous> (tests/memory.test.ts:1263:17)

    console.log
        Γ£ô Memory "The user shared the production..." score: 0.6280

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "I'll remember that password se..." score: 0.3943

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "The user provided their email ..." score: 0.2239

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "Noted - deployment deadline is..." score: 0.2207

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "The new feature needs to be de..." score: 0.2094

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "The user prefers a dark mode t..." score: 0.1745

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "The user's name is Alexander J..." score: 0.1712

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "I've noted your email address..." score: 0.1449

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "I'll set dark mode and reduce ..." score: 0.1425

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "Got it, I'll call you Alex!..." score: 0.1091

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 1 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 10 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/immutable.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  suppress all logs with { quiet: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: Γ£à audit secrets and track compliance: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging immutable table...

      at ImmutableTestCleanup.purgeImmutable (tests/immutable.test.ts:19:13)

    console.log
      Γ£à Purged 42 immutable entries

      at ImmutableTestCleanup.purgeImmutable (tests/immutable.test.ts:39:13)

    console.log
      Γ£à Immutable table is empty

      at ImmutableTestCleanup.verifyImmutableEmpty (tests/immutable.test.ts:52:15)

    console.error
      [CONVEX M(immutable:purge)] [Request ID: 464097f0203d99f5] Server Error
      Uncaught Error: IMMUTABLE_ENTRY_NOT_FOUND
          at handler (../convex-dev/immutable.ts:95:28)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(immutable:purgeVersions)] [Request ID: 56fc9e9532065e03] Server Error
      Uncaught Error: IMMUTABLE_ENTRY_NOT_FOUND
          at handler (../convex-dev/immutable.ts:510:26)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

PASS tests/gdprCascade.test.ts (10.281 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒôí add observability to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 1 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 5 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 5 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 2 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 2 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/conversations.test.ts (5.728 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ΓÜÖ∩╕Å  load multiple .env files with { path: ['.env.local', '.env'] }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      
      ≡ƒº╣ Purging conversations table before tests...

      at Object.<anonymous> (tests/conversations.test.ts:30:13)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      Γ£à Purged 0 conversations

      at Object.<anonymous> (tests/conversations.test.ts:33:13)

    console.log
      Γ£à Conversations table is empty

      at TestCleanup.verifyConversationsEmpty (tests/helpers/cleanup.ts:158:13)

    console.error
      [CONVEX M(conversations:create)] [Request ID: aa0b5af5e356c316] Server Error
      Uncaught Error: CONVERSATION_ALREADY_EXISTS
          at handler (../convex-dev/conversations.ts:60:16)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(conversations:create)] [Request ID: 134e50d3ca5550ec] Server Error
      Uncaught Error: user-agent conversations require userId
          at handler (../convex-dev/conversations.ts:37:15)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(conversations:create)] [Request ID: d9ae896a214ee8d9] Server Error
      Uncaught Error: agent-agent conversations require at least 2 memorySpaceIds
          at handler (../convex-dev/conversations.ts:43:10)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(conversations:addMessage)] [Request ID: 11abd77b133ede56] Server Error
      Uncaught Error: CONVERSATION_NOT_FOUND
          at handler (../convex-dev/conversations.ts:108:20)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(conversations:deleteConversation)] [Request ID: e005db60cd66fb56] Server Error
      Uncaught Error: CONVERSATION_NOT_FOUND
          at handler (../convex-dev/conversations.ts:143:4)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

PASS tests/mutable.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ΓÜÖ∩╕Å  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging mutable table...

      at MutableTestCleanup.purgeMutable (tests/mutable.test.ts:20:13)

    console.log
      Γ£à Purged 51 mutable entries

      at MutableTestCleanup.purgeMutable (tests/mutable.test.ts:71:13)

    console.log
      Γ£à Mutable table is empty

      at MutableTestCleanup.verifyMutableEmpty (tests/mutable.test.ts:94:15)

    console.error
      [CONVEX M(mutable:update)] [Request ID: 29665f692dd27d55] Server Error
      Uncaught Error: MUTABLE_KEY_NOT_FOUND
          at handler (../convex-dev/mutable.ts:94:19)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(mutable:deleteKey)] [Request ID: 853e15512073e3b6] Server Error
      Uncaught Error: MUTABLE_KEY_NOT_FOUND
          at handler (../convex-dev/mutable.ts:145:4)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(mutable:transaction)] [Request ID: c75cfaffd89feb0e] Server Error
      Uncaught Error: MUTABLE_KEY_NOT_FOUND: inventory/nonexistent
          at handler (../convex-dev/mutable.ts:241:12)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

PASS tests/edgeCases.test.ts (5.975 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒôí add observability to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 33 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 132 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 25 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 11 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/facts.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: Γ£à audit secrets and track compliance: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ΓÜÖ∩╕Å  write to custom object with { processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.error
      [CONVEX M(facts:update)] [Request ID: a091ac955d14ed3e] Server Error
      Uncaught Error: FACT_NOT_FOUND
          at handler (../convex-dev/facts.ts:108:17)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(facts:update)] [Request ID: bb645f5c6f344b6c] Server Error
      Uncaught Error: PERMISSION_DENIED
          at handler (../convex-dev/facts.ts:112:16)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(facts:deleteFact)] [Request ID: 00ca8ce9ff13c418] Server Error
      Uncaught Error: FACT_NOT_FOUND
          at handler (../convex-dev/facts.ts:170:13)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(facts:deleteFact)] [Request ID: 89975410cd5be481] Server Error
      Uncaught Error: PERMISSION_DENIED
          at handler (../convex-dev/facts.ts:174:4)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 1 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 71 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/parameterPropagation.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  override existing env vars with { override: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ΓÜÖ∩╕Å  enable debug logging with { debug: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 4 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 26 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 1 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 2 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/integration.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒùé∩╕Å backup and recover secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöæ add access controls to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 5 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 4 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 22 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 8 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 10 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/vector.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöÉ encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöä add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.error
      [CONVEX M(memories:deleteMemory)] [Request ID: 1ce8f475b89a241b] Server Error
      Uncaught Error: MEMORY_NOT_FOUND
          at handler (../convex-dev/memories.ts:112:15)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(memories:deleteMemory)] [Request ID: a583b6072f0f4c3d] Server Error
      Uncaught Error: PERMISSION_DENIED
          at handler (../convex-dev/memories.ts:116:4)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 41 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/hiveMode.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: Γ£à audit secrets and track compliance: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöÉ prevent committing .env to code: https://dotenvx.com/precommit

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 7 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 26 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 9 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 3 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 1 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/crossLayerIntegrity.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  override existing env vars with { override: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 8 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 10 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 9 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 10 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/contexts.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöÉ encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ΓÜÖ∩╕Å  write to custom object with { processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.error
      [CONVEX M(contexts:create)] [Request ID: f344b77cf58e405c] Server Error
      Uncaught Error: PARENT_NOT_FOUND
          at handler (../convex-dev/contexts.ts:60:29)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(contexts:deleteContext)] [Request ID: 6f51526455d03373] Server Error
      Uncaught Error: HAS_CHILDREN
          at handler (../convex-dev/contexts.ts:174:23)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 1 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 35 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/memorySpaces.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  override existing env vars with { override: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ΓÜÖ∩╕Å  write to custom object with { processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.error
      [CONVEX M(memorySpaces:register)] [Request ID: 7fb5b42a19f29e78] Server Error
      Uncaught Error: MEMORYSPACE_ALREADY_EXISTS
          at handler (../convex-dev/memorySpaces.ts:49:16)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(memorySpaces:update)] [Request ID: d40d0dc5e9bb10b1] Server Error
      Uncaught Error: MEMORYSPACE_NOT_FOUND
          at handler (../convex-dev/memorySpaces.ts:88:4)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(memorySpaces:addParticipant)] [Request ID: 36e398e6aa652648] Server Error
      Uncaught Error: PARTICIPANT_ALREADY_EXISTS
          at handler (../convex-dev/memorySpaces.ts:128:4)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 2 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 3 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 2 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 17 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/memory-facts-integration.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöä add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒùé∩╕Å backup and recover secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.warn
      Failed to extract facts: Error: Extraction failed
          at Object.extractFacts (C:\Users\nicho\OneDrive - Saint Nick LLC\Project Cortex\tests\memory-facts-integration.test.ts:81:13)
          at MemoryAPI.remember (C:\Users\nicho\OneDrive - Saint Nick LLC\Project Cortex\src\memory\index.ts:277:43)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (C:\Users\nicho\OneDrive - Saint Nick LLC\Project Cortex\tests\memory-facts-integration.test.ts:84:20)

      312 |         }
      313 |       } catch (error) {
    > 314 |         console.warn("Failed to extract facts:", error);
          |                 ^
      315 |         // Continue without facts - don't fail the entire remember operation
      316 |       }
      317 |     }

      at MemoryAPI.remember (src/memory/index.ts:314:17)
      at Object.<anonymous> (tests/memory-facts-integration.test.ts:84:20)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 7 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 13 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 8 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/collaborationMode.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  override existing env vars with { override: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ΓÜÖ∩╕Å  load multiple .env files with { path: ['.env.local', '.env'] }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 2 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 7 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 14 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 5 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/graph/end-to-end-multilayer.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöä add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöÉ prevent committing .env to code: https://dotenvx.com/precommit

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒôÉ Initializing graph schema...

      at initializeGraphSchema (src/graph/schema/initSchema.ts:29:11)

    console.log
        Creating unique constraints...

      at createUniqueConstraints (src/graph/schema/initSchema.ts:54:11)

    console.log
          Γ£ô MemorySpace.memorySpaceId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Context.contextId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Conversation.conversationId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Memory.memoryId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Fact.factId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô User.userId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Participant.participantId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Entity.name

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
        Creating performance indexes...

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:140:11)

    console.log
          Γ£ô Context.status

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.depth

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.userId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.parentId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Conversation.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Conversation.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Conversation.userId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.importance

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.sourceType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.userId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.contentType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.factType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.confidence

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.subject

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.sourceType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô MemorySpace.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô MemorySpace.status

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Entity.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Participant.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
      Γ£à Graph schema initialized successfully

      at initializeGraphSchema (src/graph/schema/initSchema.ts:38:13)

    console.log
      
      ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:545:15)

    console.log
      DATA FLOW SUMMARY: STORED vs RETRIEVED

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:546:15)

    console.log
      ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:547:15)

    console.log
      ≡ƒôÑ WHAT WAS STORED:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:552:15)

    console.log
        L1a (Conversations - ACID):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:556:15)

    console.log
          - Conversation ID: conv-e2e-1761925710560

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:557:15)

    console.log
          - Message count: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:558:15)

    console.log
          - User message: "
      Hi, I'm Dr. Sarah Chen, and I'm the lead AI researcher at QuantumLeap Technolog..."

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:559:15)

    console.log
          - Agent message: "
      Dr. Chen, it's great to meet you! MediAssist sounds like a fascinating and 
      imp..."

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:560:15)

    console.log
      
        L2 (Vector Memory):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:564:15)

    console.log
          - Memory count: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:565:15)

    console.log
          - Memory 1:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:568:17)

    console.log
              ID: mem-1761925711476-8wpdfw8yv

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:569:17)

    console.log
              Content: "
      Dr. Chen, it's great to meet you! MediAssist sounds like a ..."

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:570:17)

    console.log
              Importance: 95

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:571:17)

    console.log
              Tags: medical-ai, team, tech-stack, challenges

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:572:17)

    console.log
              ConversationRef: conv-e2e-1761925710560

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:573:17)

    console.log
          - Memory 2:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:568:17)

    console.log
              ID: mem-1761925711409-kny6ou9px

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:569:17)

    console.log
              Content: "
      Hi, I'm Dr. Sarah Chen, and I'm the lead AI researcher at Q..."

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:570:17)

    console.log
              Importance: 95

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:571:17)

    console.log
              Tags: medical-ai, team, tech-stack, challenges

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:572:17)

    console.log
              ConversationRef: conv-e2e-1761925710560

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:573:17)

    console.log
      
        L3 (Facts):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:578:15)

    console.log
          - Fact count: 5

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:579:15)

    console.log
          - Fact 1:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:582:17)

    console.log
              "Marcus Rodriguez loves PostgreSQL"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:583:17)

    console.log
              Marcus Rodriguez ΓåÆ loves ΓåÆ PostgreSQL

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:584:17)

    console.log
              Confidence: 95%

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:585:17)

    console.log
          - Fact 2:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:582:17)

    console.log
              "Marcus Rodriguez is the backend lead at QuantumLeap Technologies"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:583:17)

    console.log
              Marcus Rodriguez ΓåÆ works_at ΓåÆ QuantumLeap Technologies

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:584:17)

    console.log
              Confidence: 100%

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:585:17)

    console.log
          - Fact 3:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:582:17)

    console.log
              "QuantumLeap Technologies uses TypeScript"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:583:17)

    console.log
              QuantumLeap Technologies ΓåÆ uses ΓåÆ TypeScript

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:584:17)

    console.log
              Confidence: 100%

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:585:17)

    console.log
          - Fact 4:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:582:17)

    console.log
              "QuantumLeap Technologies is located in San Francisco"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:583:17)

    console.log
              QuantumLeap Technologies ΓåÆ located_in ΓåÆ San Francisco

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:584:17)

    console.log
              Confidence: 100%

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:585:17)

    console.log
          - Fact 5:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:582:17)

    console.log
              "Dr. Sarah Chen is the lead AI researcher at QuantumLeap Technologies"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:583:17)

    console.log
              Dr. Sarah Chen ΓåÆ works_at ΓåÆ QuantumLeap Technologies

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:584:17)

    console.log
              Confidence: 100%

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:585:17)

    console.log
      
        L4 (Context Chains):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:590:15)

    console.log
          - Context count: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:591:15)

    console.log
          - Context (depth 0):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:593:17)

    console.log
              Purpose: "Discuss medical AI system architecture with Dr. Chen"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:594:17)

    console.log
              Parent: (root)

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:595:17)

    console.log
          - Context (depth 1):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:593:17)

    console.log
              Purpose: "Knowledge graph scalability for medical entities"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:594:17)

    console.log
              Parent: ctx-1761925711917-vaonlvp5h

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:595:17)

    console.log
      
        GRAPH (Nodes & Relationships):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:608:15)

    console.log
          - MemorySpace nodes: 1

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:609:15)

    console.log
          - Conversation nodes: 1

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:610:15)

    console.log
          - Memory nodes: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:611:15)

    console.log
          - Fact nodes: 5

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:612:15)

    console.log
          - Context nodes: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:613:15)

    console.log
          - Entity nodes: 6

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:614:15)

    console.log
          - User nodes: 1

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:615:15)

    console.log
          - Total edges: 39

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:616:15)

    console.log
      
      ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:621:15)

    console.log
      ≡ƒôñ WHAT WAS RETRIEVED:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:622:15)

    console.log
        FROM L1a (Conversations):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:626:15)

    console.log
          Γ£ô Retrieved conversation: conv-e2e-1761925710560

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:627:15)

    console.log
          Γ£ô Retrieved 2 messages

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:628:15)

    console.log
          Γ£ô Message content preserved: 1702 chars

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:629:15)

    console.log
      
        FROM L2 (Vector Memory):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:633:15)

    console.log
          Γ£ô Retrieved 2 memories

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:634:15)

    console.log
          Γ£ô Each has conversationRef: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:635:15)

    console.log
          Γ£ô Each has importance: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:636:15)

    console.log
          Γ£ô Each has tags: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:637:15)

    console.log
      
        FROM L3 (Facts):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:641:15)

    console.log
          Γ£ô Retrieved 5 facts

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:642:15)

    console.log
          Γ£ô Fact 1: "Marcus Rodriguez loves PostgreSQL"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:643:15)

    console.log
          Γ£ô Has relationships: 5/5

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:644:15)

    console.log
          Γ£ô Has source refs: 5/5

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:645:15)

    console.log
      
        FROM L4 (Context Chains):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:649:15)

    console.log
          Γ£ô Retrieved 2 contexts

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:650:15)

    console.log
          Γ£ô Root context: "Discuss medical AI system architecture with Dr. Chen"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:651:15)

    console.log
          Γ£ô Child context: "Knowledge graph scalability for medical entities"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:652:15)

    console.log
          Γ£ô Hierarchy intact: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:653:15)

    console.log
      
        FROM GRAPH (Via Queries):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:662:15)

    console.log
          Γ£ô Retrieved 5 fact nodes

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:663:15)

    console.log
          Γ£ô Retrieved 6 entity nodes

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:664:15)

    console.log
          Γ£ô Entities: Dr. Sarah Chen, QuantumLeap Technologies, San Francisco, PostgreSQL, TypeScript, Marcus Rodriguez

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:665:15)

    console.log
      
        FROM GRAPH (Enrichment Example):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:676:15)

    console.log
          Γ£ô Memory mem-1761925711476-8wpdfw8yv

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:679:17)

    console.log
          Γ£ô   Links to conversation: conv-e2e-1761925710560

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:680:17)

    console.log
          Γ£ô   Which has 5 related facts

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:681:17)

    console.log
          Γ£ô   (This is the graph enrichment value!)

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:682:17)

    console.log
      
      ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:684:15)

    console.log
      COMPREHENSIVE VALIDATION CHECKLIST

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:685:15)

    console.log
      ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:686:15)

    console.log
      ≡ƒôï INPUT VALIDATION

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:888:15)

    console.log
        Length: 3142 chars

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:889:15)

    console.log
        Contains entities: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:890:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:891:15)

    console.log
      ≡ƒôï L1a: CONVERSATIONS (ACID)

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:893:15)

    console.log
        Stored: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:894:15)

    console.log
        Message count: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:895:15)

    console.log
        Has user message: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:896:15)

    console.log
        Has agent message: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:897:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:898:15)

    console.log
      ≡ƒôï L2: VECTOR MEMORY

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:900:15)

    console.log
        Stored: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:901:15)

    console.log
        Memory count: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:902:15)

    console.log
        Has conversationRef: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:903:15)

    console.log
        Has importance: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:904:15)

    console.log
        Has tags: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:905:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:906:15)

    console.log
      ≡ƒôï L3: FACTS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:908:15)

    console.log
        Stored: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:909:15)

    console.log
        Fact count: 5

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:910:15)

    console.log
        Has subject-predicate-object: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:911:15)

    console.log
        Has source ref: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:912:15)

    console.log
        Has confidence: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:913:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:914:15)

    console.log
      ≡ƒôï L4: CONTEXT CHAINS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:916:15)

    console.log
        Stored: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:917:15)

    console.log
        Context count: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:918:15)

    console.log
        Has hierarchy: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:919:15)

    console.log
        Has conversation ref: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:920:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:921:15)

    console.log
      ≡ƒôï GRAPH: NODES

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:923:15)

    console.log
        MemorySpace nodes: 1

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:924:15)

    console.log
        Conversation nodes: 1

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:925:15)

    console.log
        Memory nodes: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:926:15)

    console.log
        Fact nodes: 5

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:927:15)

    console.log
        Context nodes: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:928:15)

    console.log
        Entity nodes: 6

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:929:15)

    console.log
        Total nodes: 18

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:930:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:931:15)

    console.log
      ≡ƒôï GRAPH: RELATIONSHIPS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:933:15)

    console.log
        Total edges: 39

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:934:15)

    console.log
        Memory ΓåÆ Conversation: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:935:15)

    console.log
        Fact ΓåÆ Entity: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:936:15)

    console.log
        Context hierarchy: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:937:15)

    console.log
        Entity ΓåÆ Entity: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:938:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:939:15)

    console.log
      ≡ƒôï GRAPH: PROVENANCE

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:941:15)

    console.log
        Memory ΓåÆ Conversation: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:942:15)

    console.log
        Fact ΓåÆ Conversation: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:943:15)

    console.log
        Context ΓåÆ Conversation: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:944:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:945:15)

    console.log
      ≡ƒôï GRAPH: KNOWLEDGE DISCOVERY

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:947:15)

    console.log
        Can find coworkers: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:948:15)

    console.log
        Can find knowledge paths: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:949:15)

    console.log
        Can find entity network: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:950:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:951:15)

    console.log
      ≡ƒôï PERFORMANCE

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:953:15)

    console.log
        Total time: 40ms

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:954:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:955:15)

    console.log
      ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:957:15)

    console.log
      ≡ƒÄë ALL VALIDATIONS PASSED!

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:958:15)

    console.log
      ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:959:15)

PASS tests/graph/graphAdapter.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒùé∩╕Å backup and recover secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöä add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

PASS tests/graph/graphSyncWorker.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöä add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ΓÜÖ∩╕Å  enable debug logging with { debug: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against LOCAL Convex: http://127.0.0.1:3210

      at tests/env.ts:33:13

    console.log
         Note: Vector search (.similar()) not supported in local mode

      at tests/env.ts:34:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒôÉ Initializing graph schema...

      at initializeGraphSchema (src/graph/schema/initSchema.ts:29:11)

    console.log
        Creating unique constraints...

      at createUniqueConstraints (src/graph/schema/initSchema.ts:54:11)

    console.log
          Γ£ô MemorySpace.memorySpaceId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Context.contextId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Conversation.conversationId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Memory.memoryId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Fact.factId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô User.userId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Participant.participantId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Entity.name

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
        Creating performance indexes...

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:140:11)

    console.log
          Γ£ô Context.status

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.depth

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.userId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.parentId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Conversation.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Conversation.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Conversation.userId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.importance

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.sourceType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.userId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.contentType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.factType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.confidence

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.subject

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.sourceType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô MemorySpace.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô MemorySpace.status

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Entity.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Participant.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
      Γ£à Graph schema initialized successfully

      at initializeGraphSchema (src/graph/schema/initSchema.ts:38:13)


Test Suites: 19 passed, 19 total
Tests:       5 skipped, 529 passed, 534 total
Snapshots:   0 total
Time:        66.27 s, estimated 312 s
Ran all test suites.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?

Γ£à LOCAL tests completed successfully


============================================================
≡ƒÜÇ Running MANAGED tests...
============================================================

(node:35136) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS tests/memory.test.ts (41.086 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ΓÜÖ∩╕Å  override existing env vars with { override: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 10 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 42 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
        Γ£ô Query: "what should I address the user as" ΓåÆ Top result: "The user's name is Alexander Johnson, but they prefer to be ..." (score: 0.432)

      at Object.<anonymous> (tests/memory.test.ts:1192:19)

    console.log
        Γ£ô Query: "how do I contact them electronically" ΓåÆ Top result: "The user provided their email address, alex.johnson@techcorp..." (score: 0.369)

      at Object.<anonymous> (tests/memory.test.ts:1192:19)

    console.log
        Γ£ô Query: "production system credentials" ΓåÆ Top result: "The user provided the API password for production as "Secure..." (score: 0.371)

      at Object.<anonymous> (tests/memory.test.ts:1192:19)

    console.log
        Γ£ô Query: "when is the deployment due" ΓåÆ Top result: "Noted - deployment deadline is Friday at 5pm EST..." (score: 0.649)

      at Object.<anonymous> (tests/memory.test.ts:1192:19)

    console.log
        Γ£ô Query: "UI appearance settings" ΓåÆ Top result: "The user prefers a dark mode theme and minimal notifications..." (score: 0.445)

      at Object.<anonymous> (tests/memory.test.ts:1192:19)

    console.log
        Γ£ô Enriched: Vector="The user provided the API password for p..."

      at Object.<anonymous> (tests/memory.test.ts:1224:21)

    console.log
        Γ£ô ACID source="The API password for production is Secur..."

      at Object.<anonymous> (tests/memory.test.ts:1227:21)

    console.log
        Γ£ô Original: "My name is Alexander Johnson and I prefer to be called Alex"

      at Object.<anonymous> (tests/memory.test.ts:1262:17)

    console.log
        Γ£ô Summarized: "The user's name is Alexander Johnson, but they prefer to be called Alex."

      at Object.<anonymous> (tests/memory.test.ts:1263:17)

    console.log
        Γ£ô Memory "The user provided the API pass..." score: 0.6491

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "I'll remember that password se..." score: 0.3943

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "Noted - deployment deadline is..." score: 0.2207

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "The user provided their email ..." score: 0.2188

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "The new feature needs to be de..." score: 0.2093

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "The user prefers a dark mode t..." score: 0.1847

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "The user's name is Alexander J..." score: 0.1712

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "I've noted your email address..." score: 0.1450

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "I'll set dark mode and reduce ..." score: 0.1426

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
        Γ£ô Memory "Got it, I'll call you Alex!..." score: 0.1091

      at tests/memory.test.ts:1292:19
          at Array.forEach (<anonymous>)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 1 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 10 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/gdprCascade.test.ts (32.309 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  load multiple .env files with { path: ['.env.local', '.env'] }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒæÑ sync secrets across teammates & machines: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 1 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 5 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 5 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 2 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 2 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/edgeCases.test.ts (22.952 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  enable debug logging with { debug: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 132 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 25 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 11 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/conversations.test.ts (33.106 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöÉ encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöä add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      
      ≡ƒº╣ Purging conversations table before tests...

      at Object.<anonymous> (tests/conversations.test.ts:30:13)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      Γ£à Purged 0 conversations

      at Object.<anonymous> (tests/conversations.test.ts:33:13)

    console.log
      Γ£à Conversations table is empty

      at TestCleanup.verifyConversationsEmpty (tests/helpers/cleanup.ts:158:13)

    console.error
      [CONVEX M(conversations:create)] [Request ID: 557876b6d001d043] Server Error
      Uncaught Error: CONVERSATION_ALREADY_EXISTS
          at handler (../convex-dev/conversations.ts:60:16)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(conversations:create)] [Request ID: 0e2137c2428abc35] Server Error
      Uncaught Error: user-agent conversations require userId
          at handler (../convex-dev/conversations.ts:37:15)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(conversations:create)] [Request ID: 9517f9e9f79644db] Server Error
      Uncaught Error: agent-agent conversations require at least 2 memorySpaceIds
          at handler (../convex-dev/conversations.ts:43:10)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(conversations:addMessage)] [Request ID: c3a63fb50440c92d] Server Error
      Uncaught Error: CONVERSATION_NOT_FOUND
          at handler (../convex-dev/conversations.ts:108:20)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(conversations:deleteConversation)] [Request ID: 8bdaaaf905364cff] Server Error
      Uncaught Error: CONVERSATION_NOT_FOUND
          at handler (../convex-dev/conversations.ts:143:4)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

PASS tests/mutable.test.ts (27.413 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging mutable table...

      at MutableTestCleanup.purgeMutable (tests/mutable.test.ts:20:13)

    console.log
      Γ£à Purged 51 mutable entries

      at MutableTestCleanup.purgeMutable (tests/mutable.test.ts:71:13)

    console.log
      Γ£à Mutable table is empty

      at MutableTestCleanup.verifyMutableEmpty (tests/mutable.test.ts:94:15)

    console.error
      [CONVEX M(mutable:update)] [Request ID: 93f1743f3ec895ef] Server Error
      Uncaught Error: MUTABLE_KEY_NOT_FOUND
          at handler (../convex-dev/mutable.ts:94:19)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(mutable:deleteKey)] [Request ID: 0b31e655ee6b0938] Server Error
      Uncaught Error: MUTABLE_KEY_NOT_FOUND
          at handler (../convex-dev/mutable.ts:145:4)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(mutable:transaction)] [Request ID: 9915b23e7a907b7e] Server Error
      Uncaught Error: MUTABLE_KEY_NOT_FOUND: inventory/nonexistent
          at handler (../convex-dev/mutable.ts:241:12)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

PASS tests/immutable.test.ts (34.634 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  load multiple .env files with { path: ['.env.local', '.env'] }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging immutable table...

      at ImmutableTestCleanup.purgeImmutable (tests/immutable.test.ts:19:13)

    console.log
      Γ£à Purged 42 immutable entries

      at ImmutableTestCleanup.purgeImmutable (tests/immutable.test.ts:39:13)

    console.log
      Γ£à Immutable table is empty

      at ImmutableTestCleanup.verifyImmutableEmpty (tests/immutable.test.ts:52:15)

    console.error
      [CONVEX M(immutable:purge)] [Request ID: 6883ac55bea2457a] Server Error
      Uncaught Error: IMMUTABLE_ENTRY_NOT_FOUND
          at handler (../convex-dev/immutable.ts:95:28)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(immutable:purgeVersions)] [Request ID: 4da37debbb068da9] Server Error
      Uncaught Error: IMMUTABLE_ENTRY_NOT_FOUND
          at handler (../convex-dev/immutable.ts:510:26)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

PASS tests/facts.test.ts (19.761 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒôí add observability to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöä add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 33 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.error
      [CONVEX M(facts:update)] [Request ID: 3b4b5a1d4b01852f] Server Error
      Uncaught Error: FACT_NOT_FOUND
          at handler (../convex-dev/facts.ts:107:17)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(facts:update)] [Request ID: 285109880fce11d1] Server Error
      Uncaught Error: PERMISSION_DENIED
          at handler (../convex-dev/facts.ts:111:16)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(facts:deleteFact)] [Request ID: ecfff3937142293f] Server Error
      Uncaught Error: FACT_NOT_FOUND
          at handler (../convex-dev/facts.ts:169:13)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(facts:deleteFact)] [Request ID: 1873c87f69718f44] Server Error
      Uncaught Error: PERMISSION_DENIED
          at handler (../convex-dev/facts.ts:173:4)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 1 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 71 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/parameterPropagation.test.ts (14.816 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöä add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ΓÜÖ∩╕Å  load multiple .env files with { path: ['.env.local', '.env'] }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 4 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 26 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 1 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 2 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/graph/end-to-end-multilayer.test.ts (5.326 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöä add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöÉ prevent committing .env to code: https://dotenvx.com/precommit

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒôÉ Initializing graph schema...

      at initializeGraphSchema (src/graph/schema/initSchema.ts:29:11)

    console.log
        Creating unique constraints...

      at createUniqueConstraints (src/graph/schema/initSchema.ts:54:11)

    console.log
          Γ£ô MemorySpace.memorySpaceId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Context.contextId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Conversation.conversationId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Memory.memoryId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Fact.factId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô User.userId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Participant.participantId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Entity.name

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
        Creating performance indexes...

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:140:11)

    console.log
          Γ£ô Context.status

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.depth

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.userId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.parentId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Conversation.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Conversation.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Conversation.userId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.importance

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.sourceType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.userId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.contentType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.factType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.confidence

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.subject

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.sourceType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô MemorySpace.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô MemorySpace.status

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Entity.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Participant.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
      Γ£à Graph schema initialized successfully

      at initializeGraphSchema (src/graph/schema/initSchema.ts:38:13)

    console.log
      
      ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:545:15)

    console.log
      DATA FLOW SUMMARY: STORED vs RETRIEVED

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:546:15)

    console.log
      ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:547:15)

    console.log
      ≡ƒôÑ WHAT WAS STORED:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:552:15)

    console.log
        L1a (Conversations - ACID):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:556:15)

    console.log
          - Conversation ID: conv-e2e-1761925941844

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:557:15)

    console.log
          - Message count: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:558:15)

    console.log
          - User message: "
      Hi, I'm Dr. Sarah Chen, and I'm the lead AI researcher at QuantumLeap Technolog..."

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:559:15)

    console.log
          - Agent message: "
      Dr. Chen, it's great to meet you! MediAssist sounds like a fascinating and 
      imp..."

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:560:15)

    console.log
      
        L2 (Vector Memory):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:564:15)

    console.log
          - Memory count: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:565:15)

    console.log
          - Memory 1:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:568:17)

    console.log
              ID: mem-1761925943442-45lduli69

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:569:17)

    console.log
              Content: "
      Dr. Chen, it's great to meet you! MediAssist sounds like a ..."

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:570:17)

    console.log
              Importance: 95

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:571:17)

    console.log
              Tags: medical-ai, team, tech-stack, challenges

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:572:17)

    console.log
              ConversationRef: conv-e2e-1761925941844

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:573:17)

    console.log
          - Memory 2:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:568:17)

    console.log
              ID: mem-1761925943293-pqeqojtwr

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:569:17)

    console.log
              Content: "
      Hi, I'm Dr. Sarah Chen, and I'm the lead AI researcher at Q..."

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:570:17)

    console.log
              Importance: 95

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:571:17)

    console.log
              Tags: medical-ai, team, tech-stack, challenges

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:572:17)

    console.log
              ConversationRef: conv-e2e-1761925941844

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:573:17)

    console.log
      
        L3 (Facts):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:578:15)

    console.log
          - Fact count: 5

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:579:15)

    console.log
          - Fact 1:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:582:17)

    console.log
              "Marcus Rodriguez loves PostgreSQL"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:583:17)

    console.log
              Marcus Rodriguez ΓåÆ loves ΓåÆ PostgreSQL

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:584:17)

    console.log
              Confidence: 95%

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:585:17)

    console.log
          - Fact 2:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:582:17)

    console.log
              "Marcus Rodriguez is the backend lead at QuantumLeap Technologies"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:583:17)

    console.log
              Marcus Rodriguez ΓåÆ works_at ΓåÆ QuantumLeap Technologies

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:584:17)

    console.log
              Confidence: 100%

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:585:17)

    console.log
          - Fact 3:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:582:17)

    console.log
              "QuantumLeap Technologies uses TypeScript"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:583:17)

    console.log
              QuantumLeap Technologies ΓåÆ uses ΓåÆ TypeScript

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:584:17)

    console.log
              Confidence: 100%

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:585:17)

    console.log
          - Fact 4:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:582:17)

    console.log
              "QuantumLeap Technologies is located in San Francisco"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:583:17)

    console.log
              QuantumLeap Technologies ΓåÆ located_in ΓåÆ San Francisco

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:584:17)

    console.log
              Confidence: 100%

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:585:17)

    console.log
          - Fact 5:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:582:17)

    console.log
              "Dr. Sarah Chen is the lead AI researcher at QuantumLeap Technologies"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:583:17)

    console.log
              Dr. Sarah Chen ΓåÆ works_at ΓåÆ QuantumLeap Technologies

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:584:17)

    console.log
              Confidence: 100%

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:585:17)

    console.log
      
        L4 (Context Chains):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:590:15)

    console.log
          - Context count: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:591:15)

    console.log
          - Context (depth 0):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:593:17)

    console.log
              Purpose: "Discuss medical AI system architecture with Dr. Chen"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:594:17)

    console.log
              Parent: (root)

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:595:17)

    console.log
          - Context (depth 1):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:593:17)

    console.log
              Purpose: "Knowledge graph scalability for medical entities"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:594:17)

    console.log
              Parent: ctx-1761925945025-0em0vggtu

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:595:17)

    console.log
      
        GRAPH (Nodes & Relationships):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:608:15)

    console.log
          - MemorySpace nodes: 1

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:609:15)

    console.log
          - Conversation nodes: 1

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:610:15)

    console.log
          - Memory nodes: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:611:15)

    console.log
          - Fact nodes: 5

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:612:15)

    console.log
          - Context nodes: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:613:15)

    console.log
          - Entity nodes: 6

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:614:15)

    console.log
          - User nodes: 1

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:615:15)

    console.log
          - Total edges: 39

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:616:15)

    console.log
      
      ΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇΓöÇ

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:621:15)

    console.log
      ≡ƒôñ WHAT WAS RETRIEVED:

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:622:15)

    console.log
        FROM L1a (Conversations):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:626:15)

    console.log
          Γ£ô Retrieved conversation: conv-e2e-1761925941844

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:627:15)

    console.log
          Γ£ô Retrieved 2 messages

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:628:15)

    console.log
          Γ£ô Message content preserved: 1702 chars

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:629:15)

    console.log
      
        FROM L2 (Vector Memory):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:633:15)

    console.log
          Γ£ô Retrieved 2 memories

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:634:15)

    console.log
          Γ£ô Each has conversationRef: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:635:15)

    console.log
          Γ£ô Each has importance: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:636:15)

    console.log
          Γ£ô Each has tags: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:637:15)

    console.log
      
        FROM L3 (Facts):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:641:15)

    console.log
          Γ£ô Retrieved 5 facts

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:642:15)

    console.log
          Γ£ô Fact 1: "Marcus Rodriguez loves PostgreSQL"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:643:15)

    console.log
          Γ£ô Has relationships: 5/5

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:644:15)

    console.log
          Γ£ô Has source refs: 5/5

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:645:15)

    console.log
      
        FROM L4 (Context Chains):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:649:15)

    console.log
          Γ£ô Retrieved 2 contexts

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:650:15)

    console.log
          Γ£ô Root context: "Discuss medical AI system architecture with Dr. Chen"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:651:15)

    console.log
          Γ£ô Child context: "Knowledge graph scalability for medical entities"

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:652:15)

    console.log
          Γ£ô Hierarchy intact: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:653:15)

    console.log
      
        FROM GRAPH (Via Queries):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:662:15)

    console.log
          Γ£ô Retrieved 5 fact nodes

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:663:15)

    console.log
          Γ£ô Retrieved 6 entity nodes

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:664:15)

    console.log
          Γ£ô Entities: Dr. Sarah Chen, QuantumLeap Technologies, San Francisco, TypeScript, Marcus Rodriguez, PostgreSQL

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:665:15)

    console.log
      
        FROM GRAPH (Enrichment Example):

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:676:15)

    console.log
          Γ£ô Memory mem-1761925943442-45lduli69

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:679:17)

    console.log
          Γ£ô   Links to conversation: conv-e2e-1761925941844

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:680:17)

    console.log
          Γ£ô   Which has 5 related facts

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:681:17)

    console.log
          Γ£ô   (This is the graph enrichment value!)

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:682:17)

    console.log
      
      ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:684:15)

    console.log
      COMPREHENSIVE VALIDATION CHECKLIST

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:685:15)

    console.log
      ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:686:15)

    console.log
      ≡ƒôï INPUT VALIDATION

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:888:15)

    console.log
        Length: 3142 chars

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:889:15)

    console.log
        Contains entities: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:890:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:891:15)

    console.log
      ≡ƒôï L1a: CONVERSATIONS (ACID)

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:893:15)

    console.log
        Stored: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:894:15)

    console.log
        Message count: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:895:15)

    console.log
        Has user message: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:896:15)

    console.log
        Has agent message: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:897:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:898:15)

    console.log
      ≡ƒôï L2: VECTOR MEMORY

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:900:15)

    console.log
        Stored: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:901:15)

    console.log
        Memory count: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:902:15)

    console.log
        Has conversationRef: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:903:15)

    console.log
        Has importance: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:904:15)

    console.log
        Has tags: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:905:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:906:15)

    console.log
      ≡ƒôï L3: FACTS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:908:15)

    console.log
        Stored: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:909:15)

    console.log
        Fact count: 5

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:910:15)

    console.log
        Has subject-predicate-object: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:911:15)

    console.log
        Has source ref: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:912:15)

    console.log
        Has confidence: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:913:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:914:15)

    console.log
      ≡ƒôï L4: CONTEXT CHAINS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:916:15)

    console.log
        Stored: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:917:15)

    console.log
        Context count: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:918:15)

    console.log
        Has hierarchy: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:919:15)

    console.log
        Has conversation ref: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:920:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:921:15)

    console.log
      ≡ƒôï GRAPH: NODES

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:923:15)

    console.log
        MemorySpace nodes: 1

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:924:15)

    console.log
        Conversation nodes: 1

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:925:15)

    console.log
        Memory nodes: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:926:15)

    console.log
        Fact nodes: 5

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:927:15)

    console.log
        Context nodes: 2

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:928:15)

    console.log
        Entity nodes: 6

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:929:15)

    console.log
        Total nodes: 18

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:930:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:931:15)

    console.log
      ≡ƒôï GRAPH: RELATIONSHIPS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:933:15)

    console.log
        Total edges: 39

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:934:15)

    console.log
        Memory ΓåÆ Conversation: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:935:15)

    console.log
        Fact ΓåÆ Entity: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:936:15)

    console.log
        Context hierarchy: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:937:15)

    console.log
        Entity ΓåÆ Entity: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:938:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:939:15)

    console.log
      ≡ƒôï GRAPH: PROVENANCE

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:941:15)

    console.log
        Memory ΓåÆ Conversation: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:942:15)

    console.log
        Fact ΓåÆ Conversation: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:943:15)

    console.log
        Context ΓåÆ Conversation: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:944:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:945:15)

    console.log
      ≡ƒôï GRAPH: KNOWLEDGE DISCOVERY

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:947:15)

    console.log
        Can find coworkers: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:948:15)

    console.log
        Can find knowledge paths: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:949:15)

    console.log
        Can find entity network: true

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:950:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:951:15)

    console.log
      ≡ƒôï PERFORMANCE

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:953:15)

    console.log
        Total time: 352ms

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:954:15)

    console.log
        Status: Γ£à PASS

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:955:15)

    console.log
      ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:957:15)

    console.log
      ≡ƒÄë ALL VALIDATIONS PASSED!

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:958:15)

    console.log
      ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ

      at Object.<anonymous> (tests/graph/end-to-end-multilayer.test.ts:959:15)

PASS tests/crossLayerIntegrity.test.ts (10.361 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒùé∩╕Å backup and recover secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ΓÜÖ∩╕Å  write to custom object with { processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 1 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 2 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 5 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 2 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 1 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 8 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 10 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 9 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 10 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/integration.test.ts (12.813 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 5 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 4 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 22 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 8 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 10 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/vector.test.ts (12.726 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöÉ prevent committing .env to code: https://dotenvx.com/precommit

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöä add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.error
      [CONVEX M(memories:deleteMemory)] [Request ID: e51c4810a3e8a9a6] Server Error
      Uncaught Error: MEMORY_NOT_FOUND
          at handler (../convex-dev/memories.ts:112:15)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(memories:deleteMemory)] [Request ID: eefd64a929bed042] Server Error
      Uncaught Error: PERMISSION_DENIED
          at handler (../convex-dev/memories.ts:116:4)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 41 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/contexts.test.ts (10.259 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  write to custom object with { processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöæ add access controls to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.error
      [CONVEX M(contexts:create)] [Request ID: 701ad179e80d5f35] Server Error
      Uncaught Error: PARENT_NOT_FOUND
          at handler (../convex-dev/contexts.ts:60:29)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(contexts:deleteContext)] [Request ID: 2197d59cb79cb9bf] Server Error
      Uncaught Error: HAS_CHILDREN
          at handler (../convex-dev/contexts.ts:174:23)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 1 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 35 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/hiveMode.test.ts (11.379 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒùé∩╕Å backup and recover secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 7 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 26 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 9 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 3 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 1 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/memory-facts-integration.test.ts (8.007 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  write to custom object with { processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöÉ encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.warn
      Failed to extract facts: Error: Extraction failed
          at Object.extractFacts (C:\Users\nicho\OneDrive - Saint Nick LLC\Project Cortex\tests\memory-facts-integration.test.ts:81:13)
          at MemoryAPI.remember (C:\Users\nicho\OneDrive - Saint Nick LLC\Project Cortex\src\memory\index.ts:277:43)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (C:\Users\nicho\OneDrive - Saint Nick LLC\Project Cortex\tests\memory-facts-integration.test.ts:84:20)

      312 |         }
      313 |       } catch (error) {
    > 314 |         console.warn("Failed to extract facts:", error);
          |                 ^
      315 |         // Continue without facts - don't fail the entire remember operation
      316 |       }
      317 |     }

      at MemoryAPI.remember (src/memory/index.ts:314:17)
      at Object.<anonymous> (tests/memory-facts-integration.test.ts:84:20)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 7 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 13 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 8 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/memorySpaces.test.ts (8.884 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  load multiple .env files with { path: ['.env.local', '.env'] }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ΓÜÖ∩╕Å  override existing env vars with { override: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.error
      [CONVEX M(memorySpaces:register)] [Request ID: 35839433130defa7] Server Error
      Uncaught Error: MEMORYSPACE_ALREADY_EXISTS
          at handler (../convex-dev/memorySpaces.ts:49:16)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(memorySpaces:update)] [Request ID: cf8a1a4ca0dd58c0] Server Error
      Uncaught Error: MEMORYSPACE_NOT_FOUND
          at handler (../convex-dev/memorySpaces.ts:88:4)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.error
      [CONVEX M(memorySpaces:addParticipant)] [Request ID: c4f4dcc9690d7d00] Server Error
      Uncaught Error: PARTICIPANT_ALREADY_EXISTS
          at handler (../convex-dev/memorySpaces.ts:128:4)

      at node_modules/convex/src/browser/logging.ts:109:17
      at DefaultLogger.error (node_modules/convex/src/browser/logging.ts:88:7)
      at logForFunction (node_modules/convex/src/browser/logging.ts:149:12)
      at RequestManager.onResponse (node_modules/convex/src/browser/sync/request_manager.ts:126:7)
      at WebSocketManager.onMessage (node_modules/convex/src/browser/sync/client.ts:462:37)
      at WebSocket.ws.onmessage (node_modules/convex/src/browser/sync/web_socket_manager.ts:406:29)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 2 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 3 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 2 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 17 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/collaborationMode.test.ts (7.287 s)
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ΓÜÖ∩╕Å  suppress all logs with { quiet: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 0 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 0 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 0 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 0 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

    console.log
      ≡ƒº╣ Purging conversations table...

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:17:13)

    console.log
      Γ£à Purged 0 conversations

      at TestCleanup.purgeConversations (tests/helpers/cleanup.ts:39:13)

    console.log
      ≡ƒº╣ Purging ALL memories from database...

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:49:13)

    console.log
      Γ£à Purged 2 total memories

      at TestCleanup.purgeMemories (tests/helpers/cleanup.ts:54:15)

    console.log
      ≡ƒº╣ Purging facts table...

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:68:13)

    console.log
      Γ£à Purged 7 facts

      at TestCleanup.purgeFacts (tests/helpers/cleanup.ts:73:15)

    console.log
      ≡ƒº╣ Purging contexts table...

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:87:13)

    console.log
      Γ£à Purged 14 contexts

      at TestCleanup.purgeContexts (tests/helpers/cleanup.ts:92:15)

    console.log
      ≡ƒº╣ Purging memorySpaces table...

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:106:13)

    console.log
      Γ£à Purged 5 memory spaces

      at TestCleanup.purgeMemorySpaces (tests/helpers/cleanup.ts:111:15)

PASS tests/graph/graphSyncWorker.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒöÉ prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: Γ£à audit secrets and track compliance: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13

    console.log
      ≡ƒôÉ Initializing graph schema...

      at initializeGraphSchema (src/graph/schema/initSchema.ts:29:11)

    console.log
        Creating unique constraints...

      at createUniqueConstraints (src/graph/schema/initSchema.ts:54:11)

    console.log
          Γ£ô MemorySpace.memorySpaceId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Context.contextId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Conversation.conversationId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Memory.memoryId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Fact.factId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô User.userId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Participant.participantId

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
          Γ£ô Entity.name

      at createUniqueConstraints (src/graph/schema/initSchema.ts:124:15)

    console.log
        Creating performance indexes...

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:140:11)

    console.log
          Γ£ô Context.status

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.depth

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.userId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Context.parentId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Conversation.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Conversation.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Conversation.userId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.importance

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.sourceType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.userId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Memory.contentType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.factType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.confidence

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.subject

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.memorySpaceId

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Fact.sourceType

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô MemorySpace.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô MemorySpace.status

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Entity.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
          Γ£ô Participant.type

      at createPerformanceIndexes (src/graph/schema/initSchema.ts:194:15)

    console.log
      Γ£à Graph schema initialized successfully

      at initializeGraphSchema (src/graph/schema/initSchema.ts:38:13)

PASS tests/graph/graphAdapter.test.ts
  ΓùÅ Console

    console.log
      [dotenv@17.2.3] injecting env (0) from .env.test -- tip: ≡ƒùé∩╕Å backup and recover secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (13) from .env.local -- tip: Γ£à audit secrets and track compliance: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      
      ≡ƒº¬ Testing against MANAGED Convex: https://expert-buffalo-268.convex.cloud

      at tests/env.ts:41:13

    console.log
         Note: Vector search fully supported in managed mode

      at tests/env.ts:42:13

    console.log
      
      ≡ƒôè Graph database testing ENABLED

      at tests/env.ts:95:13

    console.log
         Neo4j: bolt://localhost:7687

      at tests/env.ts:97:17

    console.log
         Memgraph: bolt://localhost:7688

      at tests/env.ts:100:17

    console.log
      undefined

      at tests/env.ts:102:13


Test Suites: 19 passed, 19 total
Tests:       5 skipped, 529 passed, 534 total
Snapshots:   0 total
Time:        315.085 s
Ran all test suites.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?

Γ£à MANAGED tests completed successfully


============================================================
≡ƒÄë SUCCESS: All test suites passed!
   Γ£à Local tests: PASSED
   Γ£à Managed tests: PASSED
============================================================

