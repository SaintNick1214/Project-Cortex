# =============================================================================
# Cortex SDK - Test Environment Variables (Template)
# =============================================================================
#
# This is a TEMPLATE file showing available configuration options.
# Copy relevant sections to .env.local and customize for your environment.
#
# =============================================================================

# -----------------------------------------------------------------------------
# LOCAL DEVELOPMENT (Anonymous Local Convex)
# -----------------------------------------------------------------------------
# Use for rapid iteration without vector search requirements
# Configure these in .env.local:
#
# LOCAL_CONVEX_DEPLOYMENT=anonymous:anonymous-cortex-sdk-local
# LOCAL_CONVEX_URL=http://127.0.0.1:3210

# -----------------------------------------------------------------------------
# CLOUD DEVELOPMENT (Managed Convex Deployment)
# -----------------------------------------------------------------------------
# Use for testing vector search and production-like features
# Configure these in .env.local:
#
# CLOUD_CONVEX_URL=https://your-deployment.convex.cloud
# CLOUD_CONVEX_DEPLOY_KEY=dev:your-deployment|your-key-here

# -----------------------------------------------------------------------------
# OPENAI API KEY (Optional)
# -----------------------------------------------------------------------------
# Required for embedding generation and advanced semantic search tests
# Add to .env.local:
#
# OPENAI_API_KEY=sk-...

# -----------------------------------------------------------------------------
# AUTOMATIC FACT EXTRACTION (Optional)
# -----------------------------------------------------------------------------
# Enable automatic fact extraction from conversations during remember() calls.
#
# Uses a two-gate approach for safety:
# - Gate 1: An LLM API key must be set (OPENAI_API_KEY or ANTHROPIC_API_KEY)
# - Gate 2: CORTEX_FACT_EXTRACTION must be explicitly set to 'true'
#
# This prevents accidental API costs - you must explicitly opt-in.
#
# CORTEX_FACT_EXTRACTION=true
#
# With both gates satisfied, the SDK will automatically:
# - Extract facts from user/agent conversations
# - Store facts in the Facts Store (Layer 3)
# - Link facts to source conversations
#
# You can also configure LLM explicitly via CortexConfig.llm for more control.

# -----------------------------------------------------------------------------
# GRAPH DATABASE CONFIGURATION (Optional)
# -----------------------------------------------------------------------------
# For testing graph database integration features
# Configure these in .env.local:
#
# # Neo4j Configuration
# NEO4J_URI=bolt://localhost:7687
# NEO4J_USERNAME=neo4j
# NEO4J_PASSWORD=cortex-dev-password
#
# # Memgraph Configuration
# MEMGRAPH_URI=bolt://localhost:7688
# MEMGRAPH_USERNAME=memgraph
# MEMGRAPH_PASSWORD=cortex-dev-password
#
# Start graph databases with:
#   docker-compose -f docker-compose.graph.yml up -d
#
# See Documentation/07-advanced-topics/05-graph-database-setup.md

# -----------------------------------------------------------------------------
# AUTOMATIC GRAPH SYNC (Optional)
# -----------------------------------------------------------------------------
# Enable automatic graph database sync during remember() and other operations.
#
# Uses a two-gate approach for safety:
# - Gate 1: Connection credentials must be set (NEO4J_URI or MEMGRAPH_URI + auth)
# - Gate 2: CORTEX_GRAPH_SYNC must be explicitly set to 'true'
#
# This prevents accidental graph connections - you must explicitly opt-in.
#
# CORTEX_GRAPH_SYNC=true
#
# With both gates satisfied and using Cortex.create():
# - Automatically connects to the graph database
# - Starts the background sync worker
# - Syncs entities, relationships, and facts to the graph
#
# If both NEO4J_URI and MEMGRAPH_URI are set, Neo4j takes priority with a warning.
#
# Example usage:
#   const cortex = await Cortex.create({ convexUrl: process.env.CONVEX_URL! });
#
# You can also configure graph explicitly via CortexConfig.graph for more control.

# -----------------------------------------------------------------------------
# TESTING MODES
# -----------------------------------------------------------------------------
# The test runner automatically detects available configurations:
#
# - If LOCAL_CONVEX_URL is set      → runs local tests
# - If CLOUD_CONVEX_URL is set      → runs managed/cloud tests
# - If both are set                 → runs BOTH test suites
# - Set CONVEX_TEST_MODE explicitly → override auto-detection
#
# Examples:
#   npm run test              → auto-detect and run appropriate suite(s)
#   npm run test:local        → force local tests only
#   npm run test:managed      → force managed/cloud tests only
#   npm run test:both         → run both suites explicitly
#
# For interactive testing:
#   npm run test:interactive        → uses CONVEX_URL from .env.local
#   npm run test:interactive:local  → force local
#   npm run test:interactive:cloud  → force cloud

